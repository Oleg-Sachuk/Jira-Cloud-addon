/*! AUI Flat Pack - version 5.1-m7 - generated 2013-05-01 03:21:01 -0400 */


jQuery.noConflict();
/*
 * jQuery Form Plugin
 * version: 2.67 (12-MAR-2011)
 * @requires jQuery v1.3.2 or later
 *
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
(function(b){b.fn.ajaxSubmit=function(t){if(!this.length){a("ajaxSubmit: skipping submit process - no element selected");return this}if(typeof t=="function"){t={success:t}}var h=this.attr("action");var d=(typeof h==="string")?b.trim(h):"";if(d){d=(d.match(/^([^#]+)/)||[])[1]}d=d||window.location.href||"";t=b.extend(true,{url:d,type:this[0].getAttribute("method")||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var u={};this.trigger("form-pre-serialize",[this,t,u]);if(u.veto){a("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(t.beforeSerialize&&t.beforeSerialize(this,t)===false){a("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var f,p,m=this.formToArray(t.semantic);if(t.data){t.extraData=t.data;for(f in t.data){if(t.data[f] instanceof Array){for(var i in t.data[f]){m.push({name:f,value:t.data[f][i]})}}else{p=t.data[f];p=b.isFunction(p)?p():p;m.push({name:f,value:p})}}}if(t.beforeSubmit&&t.beforeSubmit(m,this,t)===false){a("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[m,this,t,u]);if(u.veto){a("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var c=b.param(m);if(t.type.toUpperCase()=="GET"){t.url+=(t.url.indexOf("?")>=0?"&":"?")+c;t.data=null}else{t.data=c}var s=this,l=[];if(t.resetForm){l.push(function(){s.resetForm()})}if(t.clearForm){l.push(function(){s.clearForm()})}if(!t.dataType&&t.target){var r=t.success||function(){};l.push(function(n){var k=t.replaceTarget?"replaceWith":"html";b(t.target)[k](n).each(r,arguments)})}else{if(t.success){l.push(t.success)}}t.success=function(w,n,x){var v=t.context||t;for(var q=0,k=l.length;q<k;q++){l[q].apply(v,[w,n,x||s,s])}};var g=b("input:file",this).length>0;var e="multipart/form-data";var j=(s.attr("enctype")==e||s.attr("encoding")==e);if(t.iframe!==false&&(g||t.iframe||j)){if(t.closeKeepAlive){b.get(t.closeKeepAlive,o)}else{o()}}else{b.ajax(t)}this.trigger("form-submit-notify",[this,t]);return this;function o(){var v=s[0];if(b(":input[name=submit],:input[id=submit]",v).length){alert('Error: Form elements must not have name or id of "submit".');return}var B=b.extend(true,{},b.ajaxSettings,t);B.context=B.context||B;var E="jqFormIO"+(new Date().getTime()),z="_"+E;var w=b('<iframe id="'+E+'" name="'+E+'" src="'+B.iframeSrc+'" />');var A=w[0];w.css({position:"absolute",top:"-1000px",left:"-1000px"});var x={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(){a("aborting upload...");var n="aborted";this.aborted=1;w.attr("src",B.iframeSrc);x.error=n;B.error&&B.error.call(B.context,x,"error",n);I&&b.event.trigger("ajaxError",[x,B,n]);B.complete&&B.complete.call(B.context,x,"error")}};var I=B.global;if(I&&!b.active++){b.event.trigger("ajaxStart")}if(I){b.event.trigger("ajaxSend",[x,B])}if(B.beforeSend&&B.beforeSend.call(B.context,x,B)===false){if(B.global){b.active--}return}if(x.aborted){return}var H=0;var y=v.clk;if(y){var F=y.name;if(F&&!y.disabled){B.extraData=B.extraData||{};B.extraData[F]=y.value;if(y.type=="image"){B.extraData[F+".x"]=v.clk_x;B.extraData[F+".y"]=v.clk_y}}}function G(){var O=s.attr("target"),M=s.attr("action");v.setAttribute("target",E);if(v.getAttribute("method")!="POST"){v.setAttribute("method","POST")}if(v.getAttribute("action")!=B.url){v.setAttribute("action",B.url)}if(!B.skipEncodingOverride){s.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(B.timeout){setTimeout(function(){H=true;D()},B.timeout)}var N=[];try{if(B.extraData){for(var P in B.extraData){N.push(b('<input type="hidden" name="'+P+'" value="'+B.extraData[P]+'" />').appendTo(v)[0])}}w.appendTo("body");A.attachEvent?A.attachEvent("onload",D):A.addEventListener("load",D,false);v.submit()}finally{v.setAttribute("action",M);if(O){v.setAttribute("target",O)}else{s.removeAttr("target")}b(N).remove()}}if(B.forceSync){G()}else{setTimeout(G,10)}var K,L,J=50;function D(){if(x.aborted){return}var R=A.contentWindow?A.contentWindow.document:A.contentDocument?A.contentDocument:A.document;if(!R||R.location.href==B.iframeSrc){return}A.detachEvent?A.detachEvent("onload",D):A.removeEventListener("load",D,false);var N=true;try{if(H){throw"timeout"}var S=B.dataType=="xml"||R.XMLDocument||b.isXMLDoc(R);a("isXml="+S);if(!S&&window.opera&&(R.body==null||R.body.innerHTML=="")){if(--J){a("requeing onLoad callback, DOM not available");setTimeout(D,250);return}}x.responseText=R.body?R.body.innerHTML:R.documentElement?R.documentElement.innerHTML:null;x.responseXML=R.XMLDocument?R.XMLDocument:R;x.getResponseHeader=function(U){var T={"content-type":B.dataType};return T[U]};var Q=/(json|script)/.test(B.dataType);if(Q||B.textarea){var M=R.getElementsByTagName("textarea")[0];if(M){x.responseText=M.value}else{if(Q){var P=R.getElementsByTagName("pre")[0];var n=R.getElementsByTagName("body")[0];if(P){x.responseText=P.textContent}else{if(n){x.responseText=n.innerHTML}}}}}else{if(B.dataType=="xml"&&!x.responseXML&&x.responseText!=null){x.responseXML=C(x.responseText)}}K=k(x,B.dataType,B)}catch(O){a("error caught:",O);N=false;x.error=O;B.error&&B.error.call(B.context,x,"error",O);I&&b.event.trigger("ajaxError",[x,B,O])}if(x.aborted){a("upload aborted");N=false}if(N){B.success&&B.success.call(B.context,K,"success",x);I&&b.event.trigger("ajaxSuccess",[x,B])}I&&b.event.trigger("ajaxComplete",[x,B]);if(I&&!--b.active){b.event.trigger("ajaxStop")}B.complete&&B.complete.call(B.context,x,N?"success":"error");setTimeout(function(){w.removeData("form-plugin-onload");w.remove();x.responseXML=null},100)}var C=b.parseXML||function(n,M){if(window.ActiveXObject){M=new ActiveXObject("Microsoft.XMLDOM");M.async="false";M.loadXML(n)}else{M=(new DOMParser()).parseFromString(n,"text/xml")}return(M&&M.documentElement&&M.documentElement.nodeName!="parsererror")?M:null};var q=b.parseJSON||function(n){return window["eval"]("("+n+")")};var k=function(Q,O,N){var M=Q.getResponseHeader("content-type")||"",n=O==="xml"||!O&&M.indexOf("xml")>=0,P=n?Q.responseXML:Q.responseText;if(n&&P.documentElement.nodeName==="parsererror"){b.error&&b.error("parsererror")}if(N&&N.dataFilter){P=N.dataFilter(P,O)}if(typeof P==="string"){if(O==="json"||!O&&M.indexOf("json")>=0){P=q(P)}else{if(O==="script"||!O&&M.indexOf("javascript")>=0){b.globalEval(P)}}}return P}}};b.fn.ajaxForm=function(c){if(this.length===0){var d={s:this.selector,c:this.context};if(!b.isReady&&d.s){a("DOM not ready, queuing ajaxForm");b(function(){b(d.s,d.c).ajaxForm(c)});return this}a("terminating; zero elements found by selector"+(b.isReady?"":" (DOM not ready)"));return this}return this.ajaxFormUnbind().bind("submit.form-plugin",function(f){if(!f.isDefaultPrevented()){f.preventDefault();b(this).ajaxSubmit(c)}}).bind("click.form-plugin",function(j){var i=j.target;var g=b(i);if(!(g.is(":submit,input:image"))){var f=g.closest(":submit");if(f.length==0){return}i=f[0]}var h=this;h.clk=i;if(i.type=="image"){if(j.offsetX!=undefined){h.clk_x=j.offsetX;h.clk_y=j.offsetY}else{if(typeof b.fn.offset=="function"){var k=g.offset();h.clk_x=j.pageX-k.left;h.clk_y=j.pageY-k.top}else{h.clk_x=j.pageX-i.offsetLeft;h.clk_y=j.pageY-i.offsetTop}}}setTimeout(function(){h.clk=h.clk_x=h.clk_y=null},100)})};b.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};b.fn.formToArray=function(q){var p=[];if(this.length===0){return p}var d=this[0];var g=q?d.getElementsByTagName("*"):d.elements;if(!g){return p}var k,h,f,r,e,m,c;for(k=0,m=g.length;k<m;k++){e=g[k];f=e.name;if(!f){continue}if(q&&d.clk&&e.type=="image"){if(!e.disabled&&d.clk==e){p.push({name:f,value:b(e).val()});p.push({name:f+".x",value:d.clk_x},{name:f+".y",value:d.clk_y})}continue}r=b.fieldValue(e,true);if(r&&r.constructor==Array){for(h=0,c=r.length;h<c;h++){p.push({name:f,value:r[h]})}}else{if(r!==null&&typeof r!="undefined"){p.push({name:f,value:r})}}}if(!q&&d.clk){var l=b(d.clk),o=l[0];f=o.name;if(f&&!o.disabled&&o.type=="image"){p.push({name:f,value:l.val()});p.push({name:f+".x",value:d.clk_x},{name:f+".y",value:d.clk_y})}}return p};b.fn.formSerialize=function(c){return b.param(this.formToArray(c))};b.fn.fieldSerialize=function(d){var c=[];this.each(function(){var h=this.name;if(!h){return}var f=b.fieldValue(this,d);if(f&&f.constructor==Array){for(var g=0,e=f.length;g<e;g++){c.push({name:h,value:f[g]})}}else{if(f!==null&&typeof f!="undefined"){c.push({name:this.name,value:f})}}});return b.param(c)};b.fn.fieldValue=function(h){for(var g=[],e=0,c=this.length;e<c;e++){var f=this[e];var d=b.fieldValue(f,h);if(d===null||typeof d=="undefined"||(d.constructor==Array&&!d.length)){continue}d.constructor==Array?b.merge(g,d):g.push(d)}return g};b.fieldValue=function(c,j){var e=c.name,p=c.type,q=c.tagName.toLowerCase();if(j===undefined){j=true}if(j&&(!e||c.disabled||p=="reset"||p=="button"||(p=="checkbox"||p=="radio")&&!c.checked||(p=="submit"||p=="image")&&c.form&&c.form.clk!=c||q=="select"&&c.selectedIndex==-1)){return null}if(q=="select"){var k=c.selectedIndex;if(k<0){return null}var m=[],d=c.options;var g=(p=="select-one");var l=(g?k+1:d.length);for(var f=(g?k:0);f<l;f++){var h=d[f];if(h.selected){var o=h.value;if(!o){o=(h.attributes&&h.attributes.value&&!(h.attributes.value.specified))?h.text:h.value}if(g){return o}m.push(o)}}return m}return b(c).val()};b.fn.clearForm=function(){return this.each(function(){b("input,select,textarea",this).clearFields()})};b.fn.clearFields=b.fn.clearInputs=function(){return this.each(function(){var d=this.type,c=this.tagName.toLowerCase();if(d=="text"||d=="password"||c=="textarea"){this.value=""}else{if(d=="checkbox"||d=="radio"){this.checked=false}else{if(c=="select"){this.selectedIndex=-1}}}})};b.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};b.fn.enable=function(c){if(c===undefined){c=true}return this.each(function(){this.disabled=!c})};b.fn.selected=function(c){if(c===undefined){c=true}return this.each(function(){var d=this.type;if(d=="checkbox"||d=="radio"){this.checked=c}else{if(this.tagName.toLowerCase()=="option"){var e=b(this).parent("select");if(c&&e[0]&&e[0].type=="select-one"){e.find("option").selected(false)}this.selected=c}}})};function a(){if(b.fn.ajaxSubmit.debug){var c="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(c)}else{if(window.opera&&window.opera.postError){window.opera.postError(c)}}}}})(jQuery);
(function(){var _after=1;var _afterThrow=2;var _afterFinally=3;var _before=4;var _around=5;var _intro=6;var _regexEnabled=true;var _arguments="arguments";var _undef="undefined";var getType=(function(){var toString=Object.prototype.toString,toStrings={},nodeTypes={1:"element",3:"textnode",9:"document",11:"fragment"},types="Arguments Array Boolean Date Document Element Error Fragment Function NodeList Null Number Object RegExp String TextNode Undefined Window".split(" ");for(var i=types.length;i--;){var type=types[i],constructor=window[type];if(constructor){try{toStrings[toString.call(new constructor)]=type.toLowerCase()}catch(e){}}}return function(item){return item==null&&(item===undefined?_undef:"null")||item.nodeType&&nodeTypes[item.nodeType]||typeof item.length=="number"&&(item.callee&&_arguments||item.alert&&"window"||item.item&&"nodelist")||toStrings[toString.call(item)]}})();var isFunc=function(obj){return getType(obj)=="function"};var weaveOne=function(source,method,advice){var old=source[method];if(advice.type!=_intro&&!isFunc(old)){var oldObject=old;old=function(){var code=arguments.length>0?_arguments+"[0]":"";for(var i=1;i<arguments.length;i++){code+=","+_arguments+"["+i+"]"}return eval("oldObject("+code+");")}}var aspect;if(advice.type==_after||advice.type==_afterThrow||advice.type==_afterFinally){aspect=function(){var returnValue,exceptionThrown=null;try{returnValue=old.apply(this,arguments)}catch(e){exceptionThrown=e}if(advice.type==_after){if(exceptionThrown==null){returnValue=advice.value.apply(this,[returnValue,method])}else{throw exceptionThrown}}else{if(advice.type==_afterThrow&&exceptionThrown!=null){returnValue=advice.value.apply(this,[exceptionThrown,method])}else{if(advice.type==_afterFinally){returnValue=advice.value.apply(this,[returnValue,exceptionThrown,method])}}}return returnValue}}else{if(advice.type==_before){aspect=function(){advice.value.apply(this,[arguments,method]);return old.apply(this,arguments)}}else{if(advice.type==_intro){aspect=function(){return advice.value.apply(this,arguments)}}else{if(advice.type==_around){aspect=function(){var invocation={object:this,args:Array.prototype.slice.call(arguments)};return advice.value.apply(invocation.object,[{arguments:invocation.args,method:method,proceed:function(){return old.apply(invocation.object,invocation.args)}}])}}}}}aspect.unweave=function(){source[method]=old;pointcut=source=aspect=old=null};source[method]=aspect;return aspect};var search=function(source,pointcut,advice){var methods=[];for(var method in source){var item=null;try{item=source[method]}catch(e){}if(item!=null&&method.match(pointcut.method)&&isFunc(item)){methods[methods.length]={source:source,method:method,advice:advice}}}return methods};var weave=function(pointcut,advice){var source=typeof(pointcut.target.prototype)!=_undef?pointcut.target.prototype:pointcut.target;var advices=[];if(advice.type!=_intro&&typeof(source[pointcut.method])==_undef){var methods=search(pointcut.target,pointcut,advice);if(methods.length==0){methods=search(source,pointcut,advice)}for(var i in methods){advices[advices.length]=weaveOne(methods[i].source,methods[i].method,methods[i].advice)}}else{advices[0]=weaveOne(source,pointcut.method,advice)}return _regexEnabled?advices:advices[0]};jQuery.aop={after:function(pointcut,advice){return weave(pointcut,{type:_after,value:advice})},afterThrow:function(pointcut,advice){return weave(pointcut,{type:_afterThrow,value:advice})},afterFinally:function(pointcut,advice){return weave(pointcut,{type:_afterFinally,value:advice})},before:function(pointcut,advice){return weave(pointcut,{type:_before,value:advice})},around:function(pointcut,advice){return weave(pointcut,{type:_around,value:advice})},introduction:function(pointcut,advice){return weave(pointcut,{type:_intro,value:advice})},setup:function(settings){_regexEnabled=settings.regexMatch}}})();
if(window.Raphael){Raphael.shadow=function(l,k,m,f,r){r=r||{};var b=jQuery(r.target),o=jQuery("<div/>",{"class":"aui-shadow"}),a=r.shadow||r.color||"#000",q=r.size*10||0,p=r.offsetSize||3,n=r.zindex||0,i=r.radius||0,g="0.4",d=r.blur||3,c,j,e;m+=q+2*d;f+=q+2*d;if(Raphael.shadow.BOX_SHADOW_SUPPORT){b.addClass("aui-box-shadow");return o.addClass("hidden")}if(l===0&&k===0&&b.length>0){e=b.offset();l=p-d+e.left;k=p-d+e.top}if(jQuery.browser.msie&&jQuery.browser.version<"9"){a="#f0f0f0";g="0.2"}o.css({position:"absolute",left:l,top:k,width:m,height:f,zIndex:n});if(b.length>0){o.appendTo(document.body);c=Raphael(o[0],m,f,i)}else{c=Raphael(l,k,m,f,i)}c.canvas.style.position="absolute";j=c.rect(d,d,m-2*d,f-2*d).attr({fill:a,stroke:a,blur:""+d,opacity:g});return o};Raphael.shadow.BOX_SHADOW_SUPPORT=(function(){var c=document.documentElement.style;var a=["boxShadow","MozBoxShadow","WebkitBoxShadow","msBoxShadow"];for(var b=0;b<a.length;b++){if(a[b] in c){return true}}return false})()};
jQuery.os={};var jQueryOSplatform=navigator.platform.toLowerCase();jQuery.os.windows=(jQueryOSplatform.indexOf("win")!=-1);jQuery.os.mac=(jQueryOSplatform.indexOf("mac")!=-1);jQuery.os.linux=(jQueryOSplatform.indexOf("linux")!=-1);
jQuery.ui.draggable.prototype._mouseCapture=(function(a){return function(c){var b=a.call(this,c);if(b&&jQuery.browser.msie){c.stopPropagation()}return b}})(jQuery.ui.draggable.prototype._mouseCapture);
(function(d){d.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",91:"meta",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",188:",",190:".",191:"/",224:"meta",219:"[",221:"]"},keypressKeys:["<",">","?"],shiftNums:{"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"}};d.each(d.hotkeys.keypressKeys,function(e,f){d.hotkeys.shiftNums[f]=f});function a(e){this.num=0;this.timer=e>0?e:false}a.prototype.val=function(){return this.num};a.prototype.inc=function(){if(this.timer){clearTimeout(this.timeout);this.timeout=setTimeout(d.proxy(a.prototype.reset,this),this.timer)}this.num++};a.prototype.reset=function(){if(this.timer){clearTimeout(this.timeout)}this.num=0};function c(g){if(!(d.isPlainObject(g.data)||d.isArray(g.data)||typeof g.data==="string")){return}var f=g.handler,e={timer:700};(function(h){if(typeof h==="string"){e.combo=[h]}else{if(d.isArray(h)){e.combo=h}else{d.extend(e,h)}}e.combo=d.map(e.combo,function(i){return i.toLowerCase()})})(g.data);g.index=new a(e.timer);g.handler=function(m){if(this!==m.target&&(/textarea|select|input/i.test(m.target.nodeName))){return}var j=m.type!=="keypress"?d.hotkeys.specialKeys[m.which]:null,n=String.fromCharCode(m.which).toLowerCase(),k,l="",i={};if(m.altKey&&j!=="alt"){l+="alt+"}if(m.ctrlKey&&j!=="ctrl"){l+="ctrl+"}if(m.metaKey&&!m.ctrlKey&&j!=="meta"){l+="meta+"}if(m.shiftKey&&j!=="shift"){l+="shift+"}if(j){i[l+j]=true}if(n){i[l+n]=true}if(/shift+/.test(l)){i[l.replace("shift+","")+d.hotkeys.shiftNums[(j||n)]]=true}var h=g.index,o=e.combo;if(b(o[h.val()],i)){if(h.val()===o.length-1){h.reset();return f.apply(this,arguments)}else{h.inc()}}else{h.reset();if(b(o[0],i)){h.inc()}}}}function b(h,f){var j=h.split(" ");for(var g=0,e=j.length;g<e;g++){if(f[j[g]]){return true}}return false}d.each(["keydown","keyup","keypress"],function(){d.event.special[this]={add:c}})})(jQuery);
jQuery.fn.moveTo=function(c){var f={transition:false,scrollOffset:35};var e=jQuery.extend(f,c),a=this,d=a.offset().top,b;if((jQuery(window).scrollTop()+jQuery(window).height()-this.outerHeight()<d||jQuery(window).scrollTop()+e.scrollOffset>d)&&jQuery(window).height()>e.scrollOffset){if(jQuery(window).scrollTop()+e.scrollOffset>d){b=d-(jQuery(window).height()-this.outerHeight())+e.scrollOffset}else{b=d-e.scrollOffset}if(!jQuery.fn.moveTo.animating&&e.transition){jQuery(document).trigger("moveToStarted",this);jQuery.fn.moveTo.animating=true;jQuery("html,body").animate({scrollTop:b},1000,function(){jQuery(document).trigger("moveToFinished",a);delete jQuery.fn.moveTo.animating});return this}else{if(jQuery("html, body").is(":animated")){jQuery("html, body").stop();delete jQuery.fn.moveTo.animating}jQuery(document).trigger("moveToStarted");jQuery(window).scrollTop(b);setTimeout(function(){jQuery(document).trigger("moveToFinished",a)},100);return this}}jQuery(document).trigger("moveToFinished",this);return this};
/* Atlassian UI and the Atlassian Design Guidelines are created by Atlassian. See https://developer.atlassian.com/display/AUI/ and https://developer.atlassian.com/design/ for license details. */
if(typeof jQuery!="undefined"){var AJS=(function(){var f=[];function g(h){switch(h){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&#39;";case"`":return"&#96;";default:return"&quot;"}}var b=/[&"'<>`]/g;var e={version:"5.1-m7",params:{},$:jQuery,log:function(){if(typeof console!="undefined"&&console.log){Function.prototype.apply.apply(console.log,[console,arguments])}},I18n:{getText:function(h){return h}},stopEvent:function(h){h.stopPropagation();return false},include:function(h){if(!this.contains(f,h)){f.push(h);var i=document.createElement("script");i.src=h;this.$("body").append(i)}},toggleClassName:function(h,i){if(!(h=this.$(h))){return}h.toggleClass(i)},setVisible:function(i,h){if(!(i=this.$(i))){return}var j=this.$;j(i).each(function(){var k=j(this).hasClass("hidden");if(k&&h){j(this).removeClass("hidden")}else{if(!k&&!h){j(this).addClass("hidden")}}})},setCurrent:function(h,i){if(!(h=this.$(h))){return}if(i){h.addClass("current")}else{h.removeClass("current")}},isVisible:function(h){return !this.$(h).hasClass("hidden")},isClipped:function(h){h=AJS.$(h);return(h.prop("scrollWidth")>h.prop("clientWidth"))},populateParameters:function(){var h=this;this.$(".parameters input").each(function(){var i=this.value,j=this.title||this.id;if(h.$(this).hasClass("list")){if(h.params[j]){h.params[j].push(i)}else{h.params[j]=[i]}}else{h.params[j]=(i.match(/^(tru|fals)e$/i)?i.toLowerCase()=="true":i)}})},toInit:function(i){var h=this;this.$(function(){try{i.apply(this,arguments)}catch(j){h.log("Failed to run init function: "+j+"\n"+i.toString())}});return this},indexOf:function(m,l,j){var k=m.length;if(j==null){j=0}else{if(j<0){j=Math.max(0,k+j)}}for(var h=j;h<k;h++){if(m[h]===l){return h}}return -1},contains:function(i,h){return this.indexOf(i,h)>-1},format:function(j){var h=/^((?:(?:[^']*'){2})*?[^']*?)\{(\d+)\}/,i=/'(?!')/g;AJS.format=function(n){var l=arguments,m="",k=n.match(h);while(k){n=n.substring(k[0].length);m+=k[1].replace(i,"")+(l.length>++k[2]?l[k[2]]:"");k=n.match(h)}return m+=n.replace(i,"")};return AJS.format.apply(AJS,arguments)},firebug:function(){var h=this.$(document.createElement("script"));h.attr("src","http://getfirebug.com/releases/lite/1.2/firebug-lite-compressed.js");this.$("head").append(h);(function(){if(window.firebug){firebug.init()}else{setTimeout(arguments.callee,0)}})()},clone:function(h){return AJS.$(h).clone().removeAttr("id")},alphanum:function(p,o){p=(p+"").toLowerCase();o=(o+"").toLowerCase();var k=/(\d+|\D+)/g,l=p.match(k),h=o.match(k),n=Math.max(l.length,h.length);for(var j=0;j<n;j++){if(j==l.length){return -1}if(j==h.length){return 1}var q=parseInt(l[j],10),m=parseInt(h[j],10);if(q==l[j]&&m==h[j]&&q!=m){return(q-m)/Math.abs(q-m)}if((q!=l[j]||m!=h[j])&&l[j]!=h[j]){return l[j]<h[j]?-1:1}}return 0},dim:function(j){if(!AJS.dim.$dim){AJS.dim.$dim=AJS("div").addClass("aui-blanket");if(AJS.$.browser.msie){AJS.dim.$dim.css({width:"200%",height:Math.max(AJS.$(document).height(),AJS.$(window).height())+"px"})}AJS.$("body").append(AJS.dim.$dim);AJS.hasFlash=false;var i=/^[^:]*:\/*[^/]*|/;var h=i.exec(location.href)[0];if(AJS.$.browser.msie&&typeof AJS.hasFlash==="undefined"&&j===false){AJS.$("object, embed, iframe").each(function(){if(this.nodeName.toLowerCase()==="iframe"){if(i.exec(this.src)[0]===h&&AJS.$(this).contents().find("object, embed").length===0){return true}}AJS.hasFlash=true;return false})}if(AJS.$.browser.msie&&(j!==false||AJS.hasFlash)){AJS.dim.shim=AJS.$('<iframe frameBorder="0" class="aui-blanket-shim" src="javascript:false;"/>');AJS.dim.shim.css({height:Math.max(AJS.$(document).height(),AJS.$(window).height())+"px"});AJS.$("body").append(AJS.dim.shim)}if(AJS.$.browser.msie&&parseInt(AJS.$.browser.version,10)<8){AJS.dim.cachedOverflow=AJS.$("html").css("overflow");AJS.$("html").css("overflow","hidden")}else{AJS.dim.cachedOverflow=AJS.$("body").css("overflow");AJS.$("body").css("overflow","hidden")}}},undim:function(){if(AJS.dim.$dim){AJS.dim.$dim.remove();AJS.dim.$dim=null;if(AJS.dim.shim){AJS.dim.shim.remove()}if(AJS.$.browser.msie&&parseInt(AJS.$.browser.version,10)<8){AJS.$("html").css("overflow",AJS.dim.cachedOverflow)}else{AJS.$("body").css("overflow",AJS.dim.cachedOverflow)}if(AJS.$.browser.safari){var h=AJS.$(window).scrollTop();AJS.$(window).scrollTop(10+5*(h==10)).scrollTop(h)}}},onTextResize:function(i){if(typeof i=="function"){if(AJS.onTextResize["on-text-resize"]){AJS.onTextResize["on-text-resize"].push(function(j){i(j)})}else{var h=AJS("div");h.css({width:"1em",height:"1em",position:"absolute",top:"-9999em",left:"-9999em"});this.$("body").append(h);h.size=h.width();setInterval(function(){if(h.size!=h.width()){h.size=h.width();for(var j=0,k=AJS.onTextResize["on-text-resize"].length;j<k;j++){AJS.onTextResize["on-text-resize"][j](h.size)}}},0);AJS.onTextResize.em=h;AJS.onTextResize["on-text-resize"]=[function(j){i(j)}]}}},unbindTextResize:function(k){for(var h=0,j=AJS.onTextResize["on-text-resize"].length;h<j;h++){if(AJS.onTextResize["on-text-resize"][h]==k){return AJS.onTextResize["on-text-resize"].splice(h,1)}}},escape:function(h){return escape(h).replace(/%u\w{4}/gi,function(i){return unescape(i)})},escapeHtml:function(h){return h.replace(b,g)},filterBySearch:function(l,q,r){if(q==""){return[]}var j=this.$;var o=(r&&r.keywordsField)||"keywords";var n=(r&&r.ignoreForCamelCase)?"i":"";var k=(r&&r.matchBoundary)?"\\b":"";var i=(r&&r.splitRegex)||(/\s+/);var m=q.split(i);var h=[];j.each(m,function(){var t=[new RegExp(k+this,"i")];if(/^([A-Z][a-z]*){2,}$/.test(this)){var s=this.replace(/([A-Z][a-z]*)/g,"\\b$1[^,]*");t.push(new RegExp(s,n))}h.push(t)});var p=[];j.each(l,function(){for(var u=0;u<h.length;u++){var s=false;for(var t=0;t<h[u].length;t++){if(h[u][t].test(this[o])){s=true;break}}if(!s){return}}p.push(this)});return p},drawLogo:function(q){AJS.log("DEPRECATED: AJS.drawLogo should no longer be used.");var j=q.scaleFactor||1,o=q.fill||"#fff",p=q.stroke||"#000",h=400*j,m=40*j,l=q.strokeWidth||1,n=q.containerID||".aui-logo";if(AJS.$(".aui-logo").size()==0){AJS.$("body").append("<div id='aui-logo' class='aui-logo'><div>")}var k=Raphael(n,h+50*j,m+100*j);var i=k.path("M 0,0 c 3.5433333,-4.7243333 7.0866667,-9.4486667 10.63,-14.173 -14.173,0 -28.346,0 -42.519,0 C -35.432667,-9.4486667 -38.976333,-4.7243333 -42.52,0 -28.346667,0 -14.173333,0 0,0 z m 277.031,28.346 c -14.17367,0 -28.34733,0 -42.521,0 C 245.14,14.173 255.77,0 266.4,-14.173 c -14.17267,0 -28.34533,0 -42.518,0 C 213.25167,0 202.62133,14.173 191.991,28.346 c -14.17333,0 -28.34667,0 -42.52,0 14.17333,-18.8976667 28.34667,-37.7953333 42.52,-56.693 -7.08667,-9.448667 -14.17333,-18.897333 -21.26,-28.346 -14.173,0 -28.346,0 -42.519,0 7.08667,9.448667 14.17333,18.897333 21.26,28.346 -14.17333,18.8976667 -28.34667,37.7953333 -42.52,56.693 -14.173333,0 -28.346667,0 -42.52,0 10.63,-14.173 21.26,-28.346 31.89,-42.519 -14.390333,0 -28.780667,0 -43.171,0 C 42.520733,1.330715e-4 31.889933,14.174867 21.26,28.347 c -42.520624,6.24e-4 -85.039187,-8.13e-4 -127.559,-0.001 11.220667,-14.961 22.441333,-29.922 33.662,-44.883 -6.496,-8.661 -12.992,-17.322 -19.488,-25.983 5.905333,0 11.810667,0 17.716,0 -10.63,-14.173333 -21.26,-28.346667 -31.89,-42.52 14.173333,0 28.346667,0 42.52,0 10.63,14.173333 21.26,28.346667 31.89,42.52 14.173333,0 28.3466667,0 42.52,0 -10.63,-14.173333 -21.26,-28.346667 -31.89,-42.52 14.1733333,0 28.3466667,0 42.52,0 10.63,14.173333 21.26,28.346667 31.89,42.52 14.390333,0 28.780667,0 43.171,0 -10.63,-14.173333 -21.26,-28.346667 -31.89,-42.52 42.51967,0 85.03933,0 127.559,0 10.63033,14.173333 21.26067,28.346667 31.891,42.52 14.17267,0 28.34533,0 42.518,0 -10.63,-14.173333 -21.26,-28.346667 -31.89,-42.52 14.17367,0 28.34733,0 42.521,0 14.17333,18.897667 28.34667,37.795333 42.52,56.693 -14.17333,18.8976667 -28.34667,37.7953333 -42.52,56.693 z");i.scale(j,-j,0,0);i.translate(120*j,m);i.attr("fill",o);i.attr("stroke",p);i.attr("stroke-width",l)},debounce:function(i,k){var j;var h;return function(){var l=arguments;var m=this;var n=function(){h=i.apply(m,l)};clearTimeout(j);j=setTimeout(n,k);return h}}};if(typeof AJS!="undefined"){for(var d in AJS){e[d]=AJS[d]}}var a=function(){var h=null;if(arguments.length&&typeof arguments[0]=="string"){h=arguments.callee.$(document.createElement(arguments[0]));if(arguments.length==2){h.html(arguments[1])}}return h};for(var c in e){a[c]=e[c]}return a})();AJS.$(function(){var a=AJS.$("body");if(!a.data("auiVersion")){a.attr("data-aui-version",AJS.version)}AJS.populateParameters()})}if(typeof console=="undefined"){console={messages:[],log:function(a){this.messages.push(a)},show:function(){alert(this.messages.join("\n"));this.messages=[]}}}else{console.show=function(){}}AJS.$.ajaxSettings.traditional=true;
AJS=AJS||{};(function(){var a="%CONTEXT_PATH%";a=(a.indexOf("%_CONTEXT_PATH")==0?false:a);AJS.contextPath=function(){var b=null;var d=[a,window.contextPath,window.Confluence&&Confluence.getContextPath(),window.BAMBOO&&BAMBOO.contextPath,window.FECRU&&FECRU.pageContext];for(var c=0;c<d.length;c++){if(typeof d[c]==="string"){b=d[c];break}}return b}})();
(function(){var b="AJS.conglomerate.cookie",f=/(\\|^"|"$)/g,g=/\|\|+/g,i=/"/g,c=/[.*+?|^$()[\]{\\]/g;function e(l,o){o=o||"";var n=new RegExp(d(l)+"=([^|]+)"),m=o.match(n);return m&&m[1]}function j(l,n,p){var m=new RegExp("(\\s|\\|)*\\b"+d(l)+"=[^|]*[|]*");p=p||"";p=p.replace(m,"|");if(n!==""){var o=l+"="+n;if(p.length+o.length<4020){p+="|"+o}}return p.replace(g,"|")}function h(l){return l.replace(f,"")}function k(l){var n=new RegExp("\\b"+d(l)+"=((?:[^\\\\;]+|\\\\.)*)(?:;|$)"),m=document.cookie.match(n);return m&&h(m[1])}function a(m,o,q){var n="",p,l='"'+o.replace(i,'\\"')+'"';if(q){p=new Date();p.setTime(+p+q*24*60*60*1000);n="; expires="+p.toGMTString()}document.cookie=m+"="+l+n+";path=/"}function d(l){return l.replace(c,"\\$&")}AJS.Cookie={save:function(m,n,l){var o=k(b);o=j(m,n,o);a(b,o,l||365)},read:function(m,l){var o=k(b);var n=e(m,o);if(n!=null){return n}return l},erase:function(l){this.save(l,"")}}})();
AJS.popup=function(i){var d={width:800,height:600,closeOnOutsideClick:false,keypressListener:function(j){if(j.keyCode===27&&b.is(":visible")){f.hide()}}};if(typeof i!="object"){i={width:arguments[0],height:arguments[1],id:arguments[2]};i=AJS.$.extend({},i,arguments[3])}i=AJS.$.extend({},d,i);var b=AJS("div").addClass("aui-popup");if(i.id){b.attr("id",i.id)}var e=3000;AJS.$(".aui-dialog").each(function(){var j=AJS.$(this);e=(j.css("z-index")>e)?j.css("z-index"):e});var g=(function(k,j){i.width=(k=(k||i.width));i.height=(j=(j||i.height));b.css({marginTop:-Math.round(j/2)+"px",marginLeft:-Math.round(k/2)+"px",width:k,height:j,"z-index":parseInt(e,10)+2});return arguments.callee})(i.width,i.height);AJS.$("body").append(b);b.hide();b.enable();var c=AJS.$(".aui-blanket"),a=function(j,k){var l=AJS.$(j,k);if(l.length){l.focus();return true}return false},h=function(j){if(AJS.$(".dialog-page-body",j).find(":focus").length!==0){return}if(i.focusSelector){return a(i.focusSelector,j)}var k=":input:visible:enabled:first";if(a(k,AJS.$(".dialog-page-body",j))){return}if(a(k,AJS.$(".dialog-button-panel",j))){return}a(k,AJS.$(".dialog-page-menu",j))};var f={changeSize:function(j,k){if((j&&j!=i.width)||(k&&k!=i.height)){g(j,k)}this.show()},show:function(){var j=function(){var k=5;if(AJS.$.browser.msie&&~~(AJS.$.browser.version)<9){k=3}AJS.$(document).keydown(i.keypressListener);AJS.dim();c=AJS.$(".aui-blanket");if(c.size()!=0&&i.closeOnOutsideClick){c.click(function(){if(b.is(":visible")){f.hide()}})}b.show();AJS.popup.current=this;h(b);AJS.$(document).trigger("showLayer",["popup",this])};j.call(this);this.show=j},hide:function(){AJS.$(document).unbind("keydown",i.keypressListener);c.unbind();this.element.hide();if(AJS.$(".aui-dialog:visible").size()==0){AJS.undim()}var j=document.activeElement;if(this.element.has(j).length){j.blur()}AJS.$(document).trigger("hideLayer",["popup",this]);AJS.popup.current=null;this.enable()},element:b,remove:function(){b.remove();this.element=null},disable:function(){if(!this.disabled){this.popupBlanket=AJS.$("<div class='dialog-blanket'> </div>").css({height:b.height(),width:b.width()});b.append(this.popupBlanket);this.disabled=true}},enable:function(){if(this.disabled){this.disabled=false;this.popupBlanket.remove();this.popupBlanket=null}}};return f};(function(){function f(n,l,k,m){if(!n.buttonpanel){n.addButtonPanel()}this.page=n;this.onclick=k;this._onclick=function(){return k.call(this,n.dialog,n)===true};this.item=AJS("button",l).addClass("button-panel-button");if(m){this.item.addClass(m)}if(typeof k=="function"){this.item.click(this._onclick)}n.buttonpanel.append(this.item);this.id=n.button.length;n.button[this.id]=this}function a(o,m,l,n,k){if(!o.buttonpanel){o.addButtonPanel()}if(!k){k="#"}this.page=o;this.onclick=l;this._onclick=function(){return l.call(this,o.dialog,o)===true};this.item=AJS("a",m).attr("href",k).addClass("button-panel-link");if(n){this.item.addClass(n)}if(typeof l=="function"){this.item.click(this._onclick)}o.buttonpanel.append(this.item);this.id=o.button.length;o.button[this.id]=this}function b(m,l){var k=m=="left"?-1:1;return function(q){var o=this.page[l];if(this.id!=((k==1)?o.length-1:0)){k*=(q||1);o[this.id+k].item[(k<0?"before":"after")](this.item);o.splice(this.id,1);o.splice(this.id+k,0,this);for(var n=0,p=o.length;n<p;n++){if(l=="panel"&&this.page.curtab==o[n].id){this.page.curtab=n}o[n].id=n}}return this}}function g(k){return function(){this.page[k].splice(this.id,1);for(var l=0,m=this.page[k].length;l<m;l++){this.page[k][l].id=l}this.item.remove()}}f.prototype.moveUp=f.prototype.moveLeft=b("left","button");f.prototype.moveDown=f.prototype.moveRight=b("right","button");f.prototype.remove=g("button");f.prototype.html=function(k){return this.item.html(k)};f.prototype.onclick=function(k){if(typeof k=="undefined"){return this.onclick}else{this.item.unbind("click",this._onclick);this._onclick=function(){return k.call(this,page.dialog,page)===true};if(typeof k=="function"){this.item.click(this._onclick)}}};var d=20;var h=function(q,r,k,p,n){if(!(k instanceof AJS.$)){k=AJS.$(k)}this.dialog=q.dialog;this.page=q;this.id=q.panel.length;this.button=AJS("button").html(r).addClass("item-button");if(n){this.button[0].id=n}this.item=AJS("li").append(this.button).addClass("page-menu-item");this.body=AJS("div").append(k).addClass("dialog-panel-body").css("height",q.dialog.height+"px");this.padding=d;if(p){this.body.addClass(p)}var m=q.panel.length,o=this;q.menu.append(this.item);q.body.append(this.body);q.panel[m]=this;var l=function(){var s;if(q.curtab+1){s=q.panel[q.curtab];s.body.hide();s.item.removeClass("selected");(typeof s.onblur=="function")&&s.onblur()}q.curtab=o.id;o.body.show();o.item.addClass("selected");(typeof o.onselect=="function")&&o.onselect();(typeof q.ontabchange=="function")&&q.ontabchange(o,s)};if(!this.button.click){AJS.log("atlassian-dialog:Panel:constructor - this.button.click false");this.button.onclick=l}else{this.button.click(l)}l();if(m==0){q.menu.css("display","none")}else{q.menu.show()}};h.prototype.select=function(){this.button.click()};h.prototype.moveUp=h.prototype.moveLeft=b("left","panel");h.prototype.moveDown=h.prototype.moveRight=b("right","panel");h.prototype.remove=g("panel");h.prototype.html=function(k){if(k){this.body.html(k);return this}else{return this.body.html()}};h.prototype.setPadding=function(k){if(!isNaN(+k)){this.body.css("padding",+k);this.padding=+k;this.page.recalcSize()}return this};var e=56;var c=51;var i=50;var j=function(k,l){this.dialog=k;this.id=k.page.length;this.element=AJS("div").addClass("dialog-components");this.body=AJS("div").addClass("dialog-page-body");this.menu=AJS("ul").addClass("dialog-page-menu").css("height",k.height+"px");this.body.append(this.menu);this.curtab;this.panel=[];this.button=[];if(l){this.body.addClass(l)}k.popup.element.append(this.element.append(this.menu).append(this.body));k.page[k.page.length]=this};j.prototype.recalcSize=function(){var k=this.header?e:0;var n=this.buttonpanel?c:0;for(var m=this.panel.length;m--;){var l=this.dialog.height-k-n;this.panel[m].body.css("height",l);this.menu.css("height",l)}};j.prototype.addButtonPanel=function(){this.buttonpanel=AJS("div").addClass("dialog-button-panel");this.element.append(this.buttonpanel)};j.prototype.addPanel=function(n,k,m,l){new h(this,n,k,m,l);this.recalcSize();return this};j.prototype.addHeader=function(l,k){if(this.header){this.header.remove()}this.header=AJS("h2").text(l||"").addClass("dialog-title");k&&this.header.addClass(k);this.element.prepend(this.header);this.recalcSize();return this};j.prototype.addButton=function(l,k,m){new f(this,l,k,m);this.recalcSize();return this};j.prototype.addLink=function(m,l,n,k){new a(this,m,l,n,k);this.recalcSize();return this};j.prototype.gotoPanel=function(k){this.panel[k.id||k].select()};j.prototype.getCurrentPanel=function(){return this.panel[this.curtab]};j.prototype.hide=function(){this.element.hide()};j.prototype.show=function(){this.element.show()};j.prototype.remove=function(){this.element.remove()};AJS.Dialog=function(m,k,n){var l={};if(!+m){l=Object(m);m=l.width;k=l.height;n=l.id}this.height=k||480;this.width=m||640;this.id=n;l=AJS.$.extend({},l,{width:this.width,height:this.height,id:this.id});this.popup=AJS.popup(l);this.popup.element.addClass("aui-dialog");this.page=[];this.curpage=0;new j(this)};AJS.Dialog.prototype.addHeader=function(l,k){this.page[this.curpage].addHeader(l,k);return this};AJS.Dialog.prototype.addButton=function(l,k,m){this.page[this.curpage].addButton(l,k,m);return this};AJS.Dialog.prototype.addLink=function(m,l,n,k){this.page[this.curpage].addLink(m,l,n,k);return this};AJS.Dialog.prototype.addSubmit=function(l,k){this.page[this.curpage].addButton(l,k,"button-panel-submit-button");return this};AJS.Dialog.prototype.addCancel=function(l,k){this.page[this.curpage].addLink(l,k,"button-panel-cancel-link");return this};AJS.Dialog.prototype.addButtonPanel=function(){this.page[this.curpage].addButtonPanel();return this};AJS.Dialog.prototype.addPanel=function(n,k,m,l){this.page[this.curpage].addPanel(n,k,m,l);return this};AJS.Dialog.prototype.addPage=function(k){new j(this,k);this.page[this.curpage].hide();this.curpage=this.page.length-1;return this};AJS.Dialog.prototype.nextPage=function(){this.page[this.curpage++].hide();if(this.curpage>=this.page.length){this.curpage=0}this.page[this.curpage].show();return this};AJS.Dialog.prototype.prevPage=function(){this.page[this.curpage--].hide();if(this.curpage<0){this.curpage=this.page.length-1}this.page[this.curpage].show();return this};AJS.Dialog.prototype.gotoPage=function(k){this.page[this.curpage].hide();this.curpage=k;if(this.curpage<0){this.curpage=this.page.length-1}else{if(this.curpage>=this.page.length){this.curpage=0}}this.page[this.curpage].show();return this};AJS.Dialog.prototype.getPanel=function(l,m){var k=(m==null)?this.curpage:l;if(m==null){m=l}return this.page[k].panel[m]};AJS.Dialog.prototype.getPage=function(k){return this.page[k]};AJS.Dialog.prototype.getCurrentPanel=function(){return this.page[this.curpage].getCurrentPanel()};AJS.Dialog.prototype.gotoPanel=function(m,l){if(l!=null){var k=m.id||m;this.gotoPage(k)}this.page[this.curpage].gotoPanel(typeof l=="undefined"?m:l)};AJS.Dialog.prototype.show=function(){this.popup.show();AJS.trigger("show.dialog",{dialog:this});return this};AJS.Dialog.prototype.hide=function(){this.popup.hide();AJS.trigger("hide.dialog",{dialog:this});return this};AJS.Dialog.prototype.remove=function(){this.popup.hide();this.popup.remove();AJS.trigger("remove.dialog",{dialog:this})};AJS.Dialog.prototype.disable=function(){this.popup.disable();return this};AJS.Dialog.prototype.enable=function(){this.popup.enable();return this};AJS.Dialog.prototype.get=function(s){var l=[],r=this;var t='#([^"][^ ]*|"[^"]*")';var u=":(\\d+)";var m="page|panel|button|header";var n="(?:("+m+")(?:"+t+"|"+u+")?|"+t+")";var p=new RegExp("(?:^|,)\\s*"+n+"(?:\\s+"+n+")?\\s*(?=,|$)","ig");(s+"").replace(p,function(F,v,E,w,C,B,y,G,D){v=v&&v.toLowerCase();var x=[];if(v=="page"&&r.page[w]){x.push(r.page[w]);v=B;v=v&&v.toLowerCase();E=y;w=G;C=D}else{x=r.page}E=E&&(E+"").replace(/"/g,"");y=y&&(y+"").replace(/"/g,"");C=C&&(C+"").replace(/"/g,"");D=D&&(D+"").replace(/"/g,"");if(v||C){for(var A=x.length;A--;){if(C||(v=="panel"&&(E||(!E&&w==null)))){for(var z=x[A].panel.length;z--;){if(x[A].panel[z].button.html()==C||x[A].panel[z].button.html()==E||(v=="panel"&&!E&&w==null)){l.push(x[A].panel[z])}}}if(C||(v=="button"&&(E||(!E&&w==null)))){for(var z=x[A].button.length;z--;){if(x[A].button[z].item.html()==C||x[A].button[z].item.html()==E||(v=="button"&&!E&&w==null)){l.push(x[A].button[z])}}}if(x[A][v]&&x[A][v][w]){l.push(x[A][v][w])}if(v=="header"&&x[A].header){l.push(x[A].header)}}}else{l=l.concat(x)}});var q={length:l.length};for(var o=l.length;o--;){q[o]=l[o];for(var k in l[o]){if(!(k in q)){(function(v){q[v]=function(){for(var w=this.length;w--;){if(typeof this[w][v]=="function"){this[w][v].apply(this[w],arguments)}}}})(k)}}}return q};AJS.Dialog.prototype.updateHeight=function(){var k=0;var m=AJS.$(window).height()-e-c-(i*2);for(var l=0;this.getPanel(l);l++){if(this.getPanel(l).body.css({height:"auto",display:"block"}).outerHeight()>k){k=Math.min(m,this.getPanel(l).body.outerHeight())}if(l!==this.page[this.curpage].curtab){this.getPanel(l).body.css({display:"none"})}}for(l=0;this.getPanel(l);l++){this.getPanel(l).body.css({height:k||this.height})}this.page[0].menu.height(k);this.height=k+e+c+1;this.popup.changeSize(undefined,this.height)};AJS.Dialog.prototype.isMaximised=function(){return this.popup.element.outerHeight()>=AJS.$(window).height()-(i*2)};AJS.Dialog.prototype.getCurPanel=function(){return this.getPanel(this.page[this.curpage].curtab)};AJS.Dialog.prototype.getCurPanelButton=function(){return this.getCurPanel().button}})();
AJS.dropDown=function(n,e){var w=null,k=[],s=false,h=AJS.$(document),c={item:"li:has(a)",activeClass:"active",alignment:"right",displayHandler:function(i){return i.name},escapeHandler:function(){this.hide("escape");return false},hideHandler:function(){},moveHandler:function(j,i){},useDisabled:false};AJS.$.extend(c,e);c.alignment={left:"left",right:"right"}[c.alignment.toLowerCase()]||"left";if(n&&n.jquery){w=n}else{if(typeof n=="string"){w=AJS.$(n)}else{if(n&&n.constructor==Array){w=AJS("div").addClass("aui-dropdown").toggleClass("hidden",!!c.isHiddenByDefault);for(var r=0,m=n.length;r<m;r++){var l=AJS("ol");for(var q=0,u=n[r].length;q<u;q++){var o=AJS("li");var g=n[r][q];if(g.href){o.append(AJS("a").html("<span>"+c.displayHandler(g)+"</span>").attr({href:g.href}).addClass(g.className));AJS.$.data(AJS.$("a > span",o)[0],"properties",g)}else{o.html(g.html).addClass(g.className)}if(g.icon){o.prepend(AJS("img").attr("src",g.icon))}if(g.insideSpanIcon){o.children("a").prepend(AJS("span").attr("class","icon"))}AJS.$.data(o[0],"properties",g);l.append(o)}if(r==m-1){l.addClass("last")}w.append(l)}AJS.$("body").append(w)}else{throw new Error("AJS.dropDown function was called with illegal parameter. Should be AJS.$ object, AJS.$ selector or array.")}}}var f=function(){p(+1)};var v=function(){p(-1)};var p=function(z){var y=!s,i=AJS.dropDown.current.$[0],j=AJS.dropDown.current.links,A=i.focused;s=true;if(j.length===0){return}i.focused=(typeof A==="number")?A:-1;if(!AJS.dropDown.current){AJS.log("move - not current, aborting");return true}i.focused+=z;if(i.focused<0){i.focused=j.length-1}else{if(i.focused>=j.length){i.focused=0}}c.moveHandler(AJS.$(j[i.focused]),z<0?"up":"down");if(y&&j.length){AJS.$(j[i.focused]).addClass(c.activeClass);s=false}else{if(!j.length){s=false}}};var x=function(y){if(!AJS.dropDown.current){return true}var z=y.which,i=AJS.dropDown.current.$[0],j=AJS.dropDown.current.links;AJS.dropDown.current.cleanActive();switch(z){case 40:f();break;case 38:v();break;case 27:return c.escapeHandler.call(AJS.dropDown.current,y);case 13:if(i.focused>=0){if(!c.selectionHandler){if(AJS.$(j[i.focused]).attr("nodeName")!="a"){return AJS.$("a",j[i.focused]).trigger("focus")}else{return AJS.$(j[i.focused]).trigger("focus")}}else{return c.selectionHandler.call(AJS.dropDown.current,y,AJS.$(j[i.focused]))}}return true;default:if(j.length){AJS.$(j[i.focused]).addClass(c.activeClass)}return true}y.stopPropagation();y.preventDefault();return false};var a=function(i){if(!((i&&i.which&&(i.which==3))||(i&&i.button&&(i.button==2))||false)){if(AJS.dropDown.current){AJS.dropDown.current.hide("click")}}};var d=function(j){return function(){if(!AJS.dropDown.current){return}AJS.dropDown.current.cleanFocus();this.originalClass=this.className;AJS.$(this).addClass(c.activeClass);AJS.dropDown.current.$[0].focused=j}};var t=function(i){if(i.button||i.metaKey||i.ctrlKey||i.shiftKey){return true}if(AJS.dropDown.current&&c.selectionHandler){c.selectionHandler.call(AJS.dropDown.current,i,AJS.$(this))}};var b=function(j){var i=false;if(j.data("events")){AJS.$.each(j.data("events"),function(y,z){AJS.$.each(z,function(B,A){if(t===A){i=true;return false}})})}return i};w.each(function(){var i=this,y=AJS.$(this),z={};var j={reset:function(){z=AJS.$.extend(z,{$:y,links:AJS.$(c.item||"li:has(a)",i),cleanActive:function(){if(i.focused+1&&z.links.length){AJS.$(z.links[i.focused]).removeClass(c.activeClass)}},cleanFocus:function(){z.cleanActive();i.focused=-1},moveDown:f,moveUp:v,moveFocus:x,getFocusIndex:function(){return(typeof i.focused=="number")?i.focused:-1}});z.links.each(function(A){var B=AJS.$(this);if(!b(B)){B.hover(d(A),z.cleanFocus);B.click(t)}})},appear:function(A){if(A){y.removeClass("hidden");y.addClass("aui-dropdown-"+c.alignment)}else{y.addClass("hidden")}},fade:function(A){if(A){y.fadeIn("fast")}else{y.fadeOut("fast")}},scroll:function(A){if(A){y.slideDown("fast")}else{y.slideUp("fast")}}};z.reset=j.reset;z.reset();z.addControlProcess=function(B,A){AJS.$.aop.around({target:this,method:B},A)};z.addCallback=function(B,A){return AJS.$.aop.after({target:this,method:B},A)};z.show=function(A){if(c.useDisabled&&this.$.closest(".aui-dd-parent").hasClass("disabled")){return}this.alignment=c.alignment;a();AJS.dropDown.current=this;this.method=A||this.method||"appear";this.timer=setTimeout(function(){h.click(a)},0);h.keydown(x);if(c.firstSelected&&this.links[0]){d(0).call(this.links[0])}AJS.$(i.offsetParent).css({zIndex:2000});j[this.method](true);AJS.$(document).trigger("showLayer",["dropdown",AJS.dropDown.current])};z.hide=function(A){this.method=this.method||"appear";AJS.$(y.get(0).offsetParent).css({zIndex:""});this.cleanFocus();j[this.method](false);h.unbind("click",a).unbind("keydown",x);AJS.$(document).trigger("hideLayer",["dropdown",AJS.dropDown.current]);AJS.dropDown.current=null;return A};z.addCallback("reset",function(){if(c.firstSelected&&this.links[0]){d(0).call(this.links[0])}});if(!AJS.dropDown.iframes){AJS.dropDown.iframes=[]}AJS.dropDown.createShims=function(){AJS.$("iframe").each(function(A){var B=this;if(!B.shim){B.shim=AJS.$("<div />").addClass("shim hidden").appendTo("body");AJS.dropDown.iframes.push(B)}});return arguments.callee}();z.addCallback("show",function(){AJS.$(AJS.dropDown.iframes).each(function(){var A=AJS.$(this);if(A.is(":visible")){var B=A.offset();B.height=A.height();B.width=A.width();this.shim.css({left:B.left+"px",top:B.top+"px",height:B.height+"px",width:B.width+"px"}).removeClass("hidden")}})});z.addCallback("hide",function(){AJS.$(AJS.dropDown.iframes).each(function(){this.shim.addClass("hidden")});c.hideHandler()});if(AJS.$.browser.msie&&~~(AJS.$.browser.version)<9){(function(){var A=function(){if(this.$.is(":visible")){if(!this.iframeShim){this.iframeShim=AJS.$('<iframe class="dropdown-shim" src="javascript:false;" frameBorder="0" />').insertBefore(this.$)}this.iframeShim.css({display:"block",top:this.$.css("top"),width:this.$.outerWidth()+"px",height:this.$.outerHeight()+"px"});if(c.alignment=="left"){this.iframeShim.css({left:"0px"})}else{this.iframeShim.css({right:"0px"})}}};z.addCallback("reset",A);z.addCallback("show",A);z.addCallback("hide",function(){if(this.iframeShim){this.iframeShim.css({display:"none"})}})})()}k.push(z)});return k};AJS.dropDown.getAdditionalPropertyValue=function(d,a){var c=d[0];if(!c||(typeof c.tagName!="string")||c.tagName.toLowerCase()!="li"){AJS.log("AJS.dropDown.getAdditionalPropertyValue : item passed in should be an LI element wrapped by jQuery")}var b=AJS.$.data(c,"properties");return b?b[a]:null};AJS.dropDown.removeAllAdditionalProperties=function(a){};AJS.dropDown.Standard=function(h){var c=[],g,b={selector:".aui-dd-parent",dropDown:".aui-dropdown",trigger:".aui-dd-trigger"};AJS.$.extend(b,h);var f=function(i,l,k,j){AJS.$.extend(j,{trigger:i});l.addClass("dd-allocated");k.addClass("hidden");if(b.isHiddenByDefault==false){j.show()}j.addCallback("show",function(){l.addClass("active")});j.addCallback("hide",function(){l.removeClass("active")})};var a=function(k,i,l,j){if(j!=AJS.dropDown.current){l.css({top:i.outerHeight()});j.show();k.stopImmediatePropagation()}k.preventDefault()};if(b.useLiveEvents){var d=[];var e=[];AJS.$(b.trigger).live("click",function(l){var i=AJS.$(this);var n,m,j;var k;if((k=AJS.$.inArray(this,d))>=0){var o=e[k];n=o.parent;m=o.dropdown;j=o.ddcontrol}else{n=i.closest(b.selector);m=n.find(b.dropDown);if(m.length===0){return}j=AJS.dropDown(m,b)[0];if(!j){return}d.push(this);o={parent:n,dropdown:m,ddcontrol:j};f(i,n,m,j);e.push(o)}a(l,i,m,j)})}else{if(this instanceof AJS.$){g=this}else{g=AJS.$(b.selector)}g=g.not(".dd-allocated").filter(":has("+b.dropDown+")").filter(":has("+b.trigger+")");g.each(function(){var l=AJS.$(this),k=AJS.$(b.dropDown,this),i=AJS.$(b.trigger,this),j=AJS.dropDown(k,b)[0];AJS.$.extend(j,{trigger:i});f(i,l,k,j);i.click(function(m){a(m,i,k,j)});c.push(j)})}return c};AJS.dropDown.Ajax=function(c){var b,a={cache:true};AJS.$.extend(a,c||{});b=AJS.dropDown.Standard.call(this,a);AJS.$(b).each(function(){var d=this;AJS.$.extend(d,{getAjaxOptions:function(e){var f=function(g){if(a.formatResults){g=a.formatResults(g)}if(a.cache){d.cache.set(d.getAjaxOptions(),g)}d.refreshSuccess(g)};if(a.ajaxOptions){if(AJS.$.isFunction(a.ajaxOptions)){return AJS.$.extend(a.ajaxOptions.call(d),{success:f})}else{return AJS.$.extend(a.ajaxOptions,{success:f})}}return AJS.$.extend(e,{success:f})},refreshSuccess:function(e){this.$.html(e)},cache:function(){var e={};return{get:function(f){var g=f.data||"";return e[(f.url+g).replace(/[\?\&]/gi,"")]},set:function(f,g){var h=f.data||"";e[(f.url+h).replace(/[\?\&]/gi,"")]=g},reset:function(){e={}}}}(),show:function(e){return function(f){if(a.cache&&!!d.cache.get(d.getAjaxOptions())){d.refreshSuccess(d.cache.get(d.getAjaxOptions()));e.call(d)}else{AJS.$(AJS.$.ajax(d.getAjaxOptions())).throbber({target:d.$,end:function(){d.reset()}});e.call(d);if(d.iframeShim){d.iframeShim.hide()}}}}(d.show),resetCache:function(){d.cache.reset()}});d.addCallback("refreshSuccess",function(){d.reset()})});return b};AJS.$.fn.dropDown=function(b,a){b=(b||"Standard").replace(/^([a-z])/,function(c){return c.toUpperCase()});return AJS.dropDown[b].call(this,a)};
(function(g){var e=g(document),j=(AJS.$.browser.msie&&parseInt(AJS.$.browser.version,10)==8);var c=null;var b=(function(){var n=false;function l(q){if(!n&&q.which===1){n=true;e.bind("mouseup mouseleave",m);g(this).trigger("aui-button-invoke")}}function m(){e.unbind("mouseup mouseleave",m);setTimeout(function(){n=false},0)}function p(){if(!n){g(this).trigger("aui-button-invoke")}}function o(q){q.preventDefault()}if(typeof document.addEventListener==="undefined"){return{click:p,"click selectstart":o,mousedown:function(s){l.call(this,s);var t=this;var r=document.activeElement;if(r!==null){r.attachEvent("onbeforedeactivate",q);setTimeout(function(){r.detachEvent("onbeforedeactivate",q)},0)}function q(u){switch(u.toElement){case null:case t:case document.body:case document.documentElement:u.returnValue=false}}}}}return{click:p,"click mousedown":o,mousedown:l}})();var a={"aui-button-invoke":function(H,r){r=g.extend({selectFirst:true},r);var o=i(this);var n=g(this).addClass("active");var R=n.hasClass("aui-dropdown2-sub-trigger");var M=o.parent()[0];var P=o.next()[0];var D=g(this).attr("data-dropdown2-hide-location");if(D){var z=document.getElementById(D);if(z){M=g(z);P=undefined}else{throw new Error("The specified data-dropdown2-hide-location id doesn't exist")}}var t=r.$menu||n.closest(".aui-dropdown2-trigger-group");if(R){var E=n.closest(".aui-dropdown2");o.addClass(E.attr("class")).addClass("aui-dropdown2-sub-menu")}var s={click:function(T){var S=g(this);if(!p(S)){return}if(!S.hasClass("interactive")){L()}if(v(S)){F(S,{selectFirst:false});T.preventDefault()}},mousemove:function(){var T=g(this);var S=u(T);if(S){F(T,{selectFirst:false})}}};var N={"click focusin mousedown":function(S){var T=S.target;if(!d(T,o[0])&&!d(T,n[0])){L()}},keydown:function(U){if(U.shiftKey&&U.keyCode==9){J(-1)}else{switch(U.keyCode){case 13:var T=y();if(v(T)){F(T)}else{k(T[0])}break;case 27:A();break;case 37:var T=y();if(v(T)){var S=i(T);if(S.is(":visible")){o.trigger("aui-dropdown2-step-out");return}}if(R){A()}else{Q(-1)}break;case 38:J(-1);break;case 39:var T=y();if(v(T)){F(T)}else{Q(1)}break;case 40:J(1);break;case 9:J(1);break;default:return}}U.preventDefault()}};function C(S,T){S.each(function(){var U=g(this);U.attr("role",T);if(U.hasClass("checked")){U.attr("aria-checked","true");if(T=="radio"){U.closest("ul").attr("role","radiogroup")}}else{U.attr("aria-checked","false")}})}n.attr("aria-controls",n.attr("aria-owns"));if(j){o.removeClass("aui-dropdown2-tailed")}o.find(".disabled").attr("aria-disabled","true");o.find("li.hidden > a").addClass("disabled").attr("aria-disabled","true");C(o.find(".aui-dropdown2-checkbox"),"checkbox");C(o.find(".aui-dropdown2-radio"),"radio");function q(){var ab=n.offset();var af=n.outerWidth();var ae=o.outerWidth();var aa=g("body").outerWidth(true);var T=Math.max(parseInt(o.css("min-width"),10),af);var U=n.data("container")||false;var ad="left";if(j){var V=parseInt(o.css("border-left-width"),10)+parseInt(o.css("border-right-width"),10);ae=ae-V;T=T-V}if(!R){o.css("min-width",T+"px")}var W=ab.left,ac=ab.top+n.outerHeight();if(R){var Y=3;W=ab.left+E.outerWidth()-Y;ac=ab.top}if(aa<W+ae&&ae<=W+af){W=ab.left+af-ae;if(R){W=ab.left-ae}ad="right"}if(U){var S=n.closest(U),Z=n.offset().left+n.outerWidth(),X=Z+ae;if(T>=ae){ae=T}if(X>Z){W=Z-ae;ad="right"}if(j){W-=V}}o.attr({"data-dropdown2-alignment":ad,"aria-hidden":"false"}).css({display:"block",left:W+"px",top:ac+"px"});o.appendTo(document.body)}q();if(n.hasClass("toolbar-trigger")){o.addClass("aui-dropdown2-in-toolbar")}if(n.parent().hasClass("aui-buttons")){o.addClass("aui-dropdown2-in-buttons")}if(n.parents().hasClass("aui-header")){o.addClass("aui-dropdown2-in-header")}o.trigger("aui-dropdown2-show",r);if(r.selectFirst){m()}I("on");function A(){l();I("off");setTimeout(function(){o.css("display","none").css("min-width","").insertAfter(n).attr("aria-hidden","true");if(!R){n.removeClass("active")}y().removeClass("active");o.removeClass("aui-dropdown2-in-toolbar");o.removeClass("aui-dropdown2-in-buttons");if(P){o.insertBefore(P)}else{o.appendTo(M)}o.trigger("aui-dropdown2-hide")},0)}function L(){A();if(R){E.trigger("aui-dropdown2-hide-all")}}function G(S){if(R&&S.target===E[0]){A()}}function p(S){return !S.is(".disabled, [aria-disabled=true]")}function v(S){return S.hasClass("aui-dropdown2-sub-trigger")}function F(S,T){if(!v(S)){return}T=g.extend({},T,{$menu:t});var U=i(S);if(U.is(":visible")){U.trigger("aui-dropdown2-select-first")}else{S.trigger("aui-button-invoke",T)}}function y(){return o.find("a.active")}var w=null;function u(S){if(w&&w[0]===S[0]){return false}w=S;y().removeClass("active");if(p(S)){S.addClass("active")}o.trigger("aui-dropdown2-item-selected");x();return true}function m(){u(o.find("a:not(.disabled)").first())}function J(T){var S=o.find("> ul > li > a, > .aui-dropdown2-section > ul > li > a").not(".disabled");u(K(S,T,true))}function B(S){if(S.length>0){L();S.trigger("aui-button-invoke")}}function Q(S){B(K(t.find(".aui-dropdown2-trigger").not(".disabled, [aria-disabled=true], .aui-dropdown2-sub-trigger"),S,false))}function K(U,V,T){var S=U.index(U.filter(".active"));S+=(S<0&&V<0)?1:0;S+=V;if(T){S%=U.length}else{if(S<0){S=U.length}}return U.eq(S)}function O(){B(g(this))}function l(){if(c===N){e.unbind(N);c=null}}function x(){if(c===N){return}e.unbind(c);e.bind(N);c=N}function I(T){var U="bind";var S="delegate";if(T!=="on"){U="unbind";S="undelegate"}if(!R){t[S](".aui-dropdown2-trigger:not(.active)","mousemove",O);n[U]("aui-button-invoke",A)}else{E[U]("aui-dropdown2-hide aui-dropdown2-item-selected aui-dropdown2-step-out",G)}o[U]("aui-dropdown2-hide-all",L);o[S]("a",s);o[U]("aui-dropdown2-hide",x);o[U]("aui-dropdown2-select-first",m)}},mousedown:function(l){if(l.which===1){g(this).bind(f)}}};var f={mouseleave:function(){e.bind(h)},"mouseup mouseleave":function(){g(this).unbind(f)}};var h={mouseup:function(l){var m=g(l.target).closest(".aui-dropdown2 a, .aui-dropdown2-trigger")[0];if(m){setTimeout(function(){k(m)},0)}},"mouseup mouseleave":function(){g(this).unbind(h)}};function k(l){if(l.click){l.click()}else{var m=document.createEvent("MouseEvents");m.initMouseEvent("click",true,true,window,0,0,0,0,0,false,false,false,false,0,null);l.dispatchEvent(m)}}function d(m,l){return(m===l)||g.contains(l,m)}function i(n){if(!(n instanceof AJS.$)){n=g(n)}var o=n.attr("aria-owns"),l=n.attr("aria-haspopup"),m=document.getElementById(o);if(m){return g(m)}else{if(!o){throw new Error("Dropdown 2 trigger required attribute not set: aria-owns")}if(!l){throw new Error("Dropdown 2 trigger required attribute not set: aria-haspopup")}if(!m){throw new Error("Dropdown 2 trigger aria-owns attr set to nonexistent id: "+o)}throw new Error("Dropdown 2 trigger unknown error. I don't know what you did, but there's smoke everywhere. Consult the documentation.")}}e.delegate(".aui-dropdown2-trigger",b);e.delegate(".aui-dropdown2-trigger:not(.active):not([aria-disabled=true]),.aui-dropdown2-sub-trigger:not([aria-disabled=true])",a);e.delegate(".aui-dropdown2-checkbox:not(.disabled)","click",function(){var l=g(this);if(l.hasClass("checked")){l.removeClass("checked").attr("aria-checked","false");l.trigger("aui-dropdown2-item-uncheck")}else{l.addClass("checked").attr("aria-checked","true");l.trigger("aui-dropdown2-item-check")}});e.delegate(".aui-dropdown2-radio:not(.checked):not(.disabled)","click",function(){var l=g(this);var m=l.closest("ul").find(".checked");m.removeClass("checked").attr("aria-checked","false").trigger("aui-dropdown2-item-uncheck");l.addClass("checked").attr("aria-checked","true").trigger("aui-dropdown2-item-check")});e.delegate(".aui-dropdown2 a.disabled","click",function(l){l.preventDefault()})})(AJS.$);
AJS.bind=function(a,c,b){try{if(typeof b==="function"){return AJS.$(window).bind(a,c,b)}else{return AJS.$(window).bind(a,c)}}catch(d){AJS.log("error while binding: "+d.message)}};AJS.unbind=function(a,b){try{return AJS.$(window).unbind(a,b)}catch(c){AJS.log("error while unbinding: "+c.message)}};AJS.trigger=function(a,c){try{return AJS.$(window).trigger(a,c)}catch(b){AJS.log("error while triggering: "+b.message)}};
AJS.warnAboutFirebug=function(a){AJS.log("DEPRECATED: please remove all uses of AJS.warnAboutFirebug")};
AJS.inlineHelp=function(){AJS.$(".icon-inline-help").click(function(){var a=AJS.$(this).siblings(".field-help");if(a.hasClass("hidden")){a.removeClass("hidden")}else{a.addClass("hidden")}})};
(function(a){AJS.InlineDialog=function(t,h,k,i){if(i&&i.getArrowAttributes){AJS.log("DEPRECATED: getArrowAttributes - See https://ecosystem.atlassian.net/browse/AUI-1362")}if(i&&i.getArrowPath){AJS.log("DEPRECATED: getArrowPath - See https://ecosystem.atlassian.net/browse/AUI-1362")}if(typeof h==="undefined"){h=String(Math.random()).replace(".","");if(a("#inline-dialog-"+h+", #arrow-"+h+", #inline-dialog-shim-"+h).length){throw"GENERATED_IDENTIFIER_NOT_UNIQUE"}}var r=a.extend(false,AJS.InlineDialog.opts,i);var e;var j;var B;var n=false;var s=false;var z=false;var A;var p;var b=a('<div id="inline-dialog-'+h+'" class="aui-inline-dialog"><div class="contents"></div><div id="arrow-'+h+'" class="arrow"></div></div>');var g=a("#arrow-"+h,b);var y=b.find(".contents");y.css("width",r.width+"px");y.mouseover(function(C){clearTimeout(j);b.unbind("mouseover")}).mouseout(function(){w()});var v=function(){if(!e){e={popup:b,hide:function(){w(0)},id:h,show:function(){q()},reset:function(){function D(F,E){F.css(E.popupCss);if(window.Raphael&&i&&(i.getArrowPath||i.getArrowAttributes)){if(E.displayAbove){E.arrowCss.top-=AJS.$.browser.msie?10:9}if(!F.arrowCanvas){F.arrowCanvas=Raphael("arrow-"+h,16,16)}var G=r.getArrowPath,H=a.isFunction(G)?G(E):G;F.arrowCanvas.path(H).attr(r.getArrowAttributes())}else{if(!g.hasClass("aui-css-arrow")){g.addClass("aui-css-arrow")}if(E.displayAbove&&!g.hasClass("aui-bottom-arrow")){g.addClass("aui-bottom-arrow")}else{if(!E.displayAbove){g.removeClass("aui-bottom-arrow")}}}g.css(E.arrowCss)}var C=r.calculatePositions(b,p,A,r);D(b,C);b.fadeIn(r.fadeTime,function(){});if(AJS.$.browser.msie&&~~(AJS.$.browser.version)<10){if(a("#inline-dialog-shim-"+h).length==0){a(b).prepend(a('<iframe class = "inline-dialog-shim" id="inline-dialog-shim-'+h+'" frameBorder="0" src="javascript:false;"></iframe>'))}a("#inline-dialog-shim-"+h).css({width:y.outerWidth(),height:y.outerHeight()})}}}}return e};var q=function(){if(b.is(":visible")){return}B=setTimeout(function(){if(!z||!s){return}r.addActiveClass&&a(t).addClass("active");n=true;f();AJS.InlineDialog.current=v();AJS.$(document).trigger("showLayer",["inlineDialog",v()]);v().reset()},r.showDelay)};var w=function(C){s=false;if(n&&r.preHideCallback.call(b[0].popup)){C=(C==null)?r.hideDelay:C;clearTimeout(j);clearTimeout(B);if(C!=null){j=setTimeout(function(){u();r.addActiveClass&&a(t).removeClass("active");b.fadeOut(r.fadeTime,function(){r.hideCallback.call(b[0].popup)});if(b.arrowCanvas){b.arrowCanvas.remove();b.arrowCanvas=null}n=false;s=false;AJS.$(document).trigger("hideLayer",["inlineDialog",v()]);AJS.InlineDialog.current=null;if(!r.cacheContent){z=false;o=false}},C)}}};var x=function(F,D){var C=a(D);r.upfrontCallback.call({popup:b,hide:function(){w(0)},id:h,show:function(){q()}});b.each(function(){if(typeof this.popup!="undefined"){this.popup.hide()}});if(r.closeOthers){AJS.$(".aui-inline-dialog").each(function(){this.popup.hide()})}p={target:C};if(!F){A={x:C.offset().left,y:C.offset().top}}else{A={x:F.pageX,y:F.pageY}}if(!n){clearTimeout(B)}s=true;var E=function(){o=false;z=true;r.initCallback.call({popup:b,hide:function(){w(0)},id:h,show:function(){q()}});q()};if(!o){o=true;if(a.isFunction(k)){k(y,D,E)}else{AJS.$.get(k,function(H,G,I){y.html(r.responseHandler(H,G,I));z=true;r.initCallback.call({popup:b,hide:function(){w(0)},id:h,show:function(){q()}});q()})}}clearTimeout(j);if(!n){q()}return false};b[0].popup=v();var o=false;var m=false;var l=function(){if(!m){a(r.container).append(b);m=true}};if(r.onHover){if(r.useLiveEvents){a(t).live("mousemove",function(C){l();x(C,this)}).live("mouseout",function(){w()})}else{a(t).mousemove(function(C){l();x(C,this)}).mouseout(function(){w()})}}else{if(!r.noBind){if(r.useLiveEvents){a(t).live("click",function(C){l();x(C,this);return false}).live("mouseout",function(){w()})}else{a(t).click(function(C){l();x(C,this);return false}).mouseout(function(){w()})}}}var d=false;var c=h+".inline-dialog-check";var f=function(){if(!d){a("body").bind("click."+c,function(D){var C=a(D.target);if(C.closest("#inline-dialog-"+h+" .contents").length===0){w(0)}});d=true}};var u=function(){if(d){a("body").unbind("click."+c)}d=false};b.show=function(C){if(C){C.stopPropagation()}l();x(null,t)};b.hide=function(){w(0)};b.refresh=function(){if(n){v().reset()}};b.getOptions=function(){return r};return b};AJS.InlineDialog.opts={onTop:false,responseHandler:function(c,b,d){return c},closeOthers:true,isRelativeToMouse:false,addActiveClass:true,onHover:false,useLiveEvents:false,noBind:false,fadeTime:100,hideDelay:10000,showDelay:0,width:300,offsetX:0,offsetY:10,arrowOffsetX:0,container:"body",cacheContent:true,displayShadow:true,preHideCallback:function(){return true},hideCallback:function(){},initCallback:function(){},upfrontCallback:function(){},calculatePositions:function(c,j,q,n){var k;var s="auto";var p;var g=-7;var h;var l;var r=j.target.offset();var b=j.target.outerWidth();var e=r.left+b/2;var o=(window.pageYOffset||document.documentElement.scrollTop)+a(window).height();var f=10;p=r.top+j.target.outerHeight()+n.offsetY;k=r.left+n.offsetX;var i=r.top>c.height();var d=(p+c.height())<o;l=(!d&&i)||(n.onTop&&i);var m=a(window).width()-(k+n.width+f);if(l){p=r.top-c.height()-8;g=c.height()}h=e-k+n.arrowOffsetX;if(n.isRelativeToMouse){if(m<0){s=f;k="auto";h=q.x-(a(window).width()-n.width)}else{k=q.x-20;h=q.x-k}}else{if(m<0){s=f;k="auto";h=e-(a(window).width()-n.width)}else{if(n.width<=b/2){h=n.width/2;k=e-n.width/2}}}return{displayAbove:l,popupCss:{left:k,right:s,top:p},arrowCss:{position:"absolute",left:h,right:"auto",top:g}}},getArrowPath:function(b){return b.displayAbove?"M0,8L8,16,16,8":"M0,8L8,0,16,8"},getArrowAttributes:function(){return{fill:"#fff",stroke:"#ccc"}}}})(AJS.$);
(function(){var a=500;var c=5000;var b=100;AJS.messages={setup:function(){AJS.messages.createMessage("generic");AJS.messages.createMessage("error");AJS.messages.createMessage("warning");AJS.messages.createMessage("info");AJS.messages.createMessage("success");AJS.messages.createMessage("hint");AJS.messages.makeCloseable();AJS.messages.makeFadeout()},makeCloseable:function(d){AJS.$(d||"div.aui-message.closeable").each(function(){var f=AJS.$(this),e=AJS.$('<span class="aui-icon icon-close" role="button" tabindex="0"></span>').click(function(){f.closeMessage()}).keypress(function(g){if((g.which===AJS.$.ui.keyCode.ENTER)||(g.which===AJS.$.ui.keyCode.SPACE)){f.closeMessage();g.preventDefault()}});f.append(e)})},makeFadeout:function(e,d,f){d=(typeof d!="undefined")?d:c;f=(typeof f!="undefined")?f:a;AJS.$(e||"div.aui-message.fadeout").each(function(){var j=AJS.$(this);var l=false;var h=false;function g(){j.stop(true,false).delay(d).fadeOut(f,function(){j.closeMessage()})}function k(){j.stop(true,false).fadeTo(b,1)}function i(){return !l&&!h}j.focusin(function(){l=true;k()}).focusout(function(){l=false;if(i()){g()}}).hover(function(){h=true;k()},function(){h=false;if(i()){g()}});g()})},template:'<div class="aui-message {type} {closeable} {shadowed} {fadeout}"><p class="title"><span class="aui-icon icon-{type}"></span><strong>{title}</strong></p>{body}<!-- .aui-message --></div>',createMessage:function(d){AJS.messages[d]=function(g,i){var h=this.template,f,e;if(!i){i=g;g="#aui-message-bar"}i.closeable=(i.closeable==false)?false:true;i.shadowed=(i.shadowed==false)?false:true;f=AJS.$(AJS.template(h).fill({type:d,closeable:i.closeable?"closeable":"",shadowed:i.shadowed?"shadowed":"",fadeout:i.fadeout?"fadeout":"",title:i.title||"","body:html":i.body||""}).toString());if(i.id){if(/[#\'\"\.\s]/g.test(i.id)){AJS.log("AJS.Messages error: ID rejected, must not include spaces, hashes, dots or quotes.")}else{f.attr("id",i.id)}}e=i.insert||"append";if(e==="prepend"){f.prependTo(g)}else{f.appendTo(g)}i.closeable&&AJS.messages.makeCloseable(f);i.fadeout&&AJS.messages.makeFadeout(f,i.delay,i.duration);return f}}};AJS.$.fn.closeMessage=function(){var d=AJS.$(this);if(d.hasClass("aui-message","closeable")){d.stop(true);d.trigger("messageClose",[this]).remove()}};AJS.$(function(){AJS.messages.setup()})})();
(function(){var b,g,e,c,d=/#.*/,f="active-tab",a="active-pane";AJS.tabs={setup:function(){var k;b=AJS.$(".aui-tabs:not(.aui-tabs-disabled)");for(var h=0,j=b.length;h<j;h++){k=AJS.$(b[h]);if(!k.data("aui-tab-events-bound")){g=AJS.$("ul.tabs-menu",b[h]);g.delegate("a","click",function(i){AJS.tabs.change(AJS.$(this),i);i&&i.preventDefault()});k.data("aui-tab-events-bound",true)}}AJS.$(".aui-tabs.vertical-tabs").find("a").each(function(l){e=AJS.$(this);if(!e.attr("title")){c=e.children("strong:first");if(AJS.isClipped(c)){e.attr("title",e.text())}}})},change:function(i,j){var h=AJS.$(i.attr("href").match(d)[0]);h.addClass(a).siblings().removeClass(a);i.parent("li.menu-item").addClass(f).siblings().removeClass(f);i.trigger("tabSelect",{tab:i,pane:h})}};AJS.$(AJS.tabs.setup)})();
AJS.template=(function(g){var j=/\{([^\}]+)\}/g,d=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,h=/([^\\])'/g,f=function(o,n,p,l){var m=p;n.replace(d,function(s,r,q,u,t){r=r||u;if(m){if(r+":html" in m){m=m[r+":html"];l=true}else{if(r in m){m=m[r]}}if(t&&typeof m=="function"){m=m()}}});if(m==null||m==p){m=o}m=String(m);if(!l){m=e.escape(m)}return m},b=function(l){this.template=this.template.replace(j,function(n,m){return f(n,m,l,true)});return this},k=function(l){this.template=this.template.replace(j,function(n,m){return f(n,m,l)});return this},c=function(){return this.template};var e=function(m){function l(){return l.template}l.template=String(m);l.toString=l.valueOf=c;l.fill=k;l.fillHtml=b;return l},a={},i=[];e.load=function(l){l=String(l);if(!a.hasOwnProperty(l)){i.length>=1000&&delete a[i.shift()];i.push(l);a[l]=g("script[title='"+l.replace(h,"$1\\'")+"']")[0].text}return this(a[l])};e.escape=AJS.escapeHtml;return e})(AJS.$);
(function(a,e){var d=navigator.platform.indexOf("Mac")!==-1;var b=/^(backspace|tab|r(ight|eturn)|s(hift|pace|croll)|c(trl|apslock)|alt|pa(use|ge(up|down))|e(sc|nd)|home|left|up|d(el|own)|insert|f\d\d?|numlock|meta)/i;a.whenIType=function(q){var p=[],j=e.Callbacks();function g(r){if(!AJS.popup.current&&j){j.fire(r)}}function h(r){r.preventDefault()}function o(r){var s=r&&r.split?e.trim(r).split(" "):[r];e.each(s,function(){i(this)})}function l(s){var r=s.length;while(r--){if(s[r].length>1&&s[r]!=="space"){return true}}return false}function i(t){var s=t instanceof Array?t:n(t.toString());var r=l(s)?"keydown":"keypress";p.push(s);e(document).bind(r,s,g);e(document).bind(r+" keyup",s,h)}function n(t){var v=[],u="",s,r;while(t.length){if(s=t.match(/^(ctrl|meta|shift|alt)\+/i)){u+=s[0];t=t.substring(s[0].length)}else{if(r=t.match(b)){v.push(u+r[0]);t=t.substring(r[0].length);u=""}else{v.push(u+t[0]);t=t.substring(1);u=""}}}return v}function k(t){var v=e(t),x=v.attr("title")||"",w=p.slice();var s=v.data("kbShortcutAppended")||"";var r=!s;var u=r?x:x.substring(0,x.length-s.length);while(w.length){s=f(w.shift().slice(),s,r);r=false}if(d){s=s.replace(/Meta/ig,"\u2318").replace(/Shift/ig,"\u21E7")}v.attr("title",u+s);v.data("kbShortcutAppended",s)}function m(s){var t=e(s);var r=t.data("kbShortcutAppended");if(!r){return}var u=t.attr("title");t.attr("title",u.replace(r,""));t.removeData("kbShortcutAppended")}function f(t,s,r){if(r){s+=" ("+AJS.I18n.getText("aui.keyboard.shortcut.type.x",t.shift())}else{s=s.replace(/\)$/,"");s+=AJS.I18n.getText("aui.keyboard.shortcut.or.x",t.shift())}e.each(t,function(){s+=" "+AJS.I18n.getText("aui.keyboard.shortcut.then.x",this)});s+=")";return s}o(q);return a.whenIType.makeShortcut({executor:j,bindKeys:o,addShortcutsToTitle:k,removeShortcutsFromTitle:m,keypressHandler:g,defaultPreventionHandler:h})};a.whenIType.makeShortcut=function(n){var i=n.executor;var l=n.bindKeys;var j=n.addShortcutsToTitle;var k=n.removeShortcutsFromTitle;var g=n.keypressHandler;var h=n.defaultPreventionHandler;var m=[];function f(o){return function(p,r){r=r||{};var q=r.focusedClass||"focused";var s=r.hasOwnProperty("wrapAround")?r.wrapAround:true;var t=r.hasOwnProperty("escToCancel")?r.escToCancel:true;i.add(function(){var w=e(p),v=w.filter("."+q),u=v.length===0?undefined:{transition:true};if(t){e(document).one("keydown",function(x){if(x.keyCode===e.ui.keyCode.ESCAPE&&v){v.removeClass(q)}})}if(v.length){v.removeClass(q)}v=o(v,w,s);if(v&&v.length>0){v.addClass(q);v.moveTo(u);if(v.is("a")){v.focus()}else{v.find("a:first").focus()}}});return this}}return{moveToNextItem:f(function(q,r,p){var o;if(p&&q.length===0){return r.eq(0)}else{o=e.inArray(q.get(0),r);if(o<r.length-1){o=o+1;return r.eq(o)}else{if(p){return r.eq(0)}}}return q}),moveToPrevItem:f(function(q,r,p){var o;if(p&&q.length===0){return r.filter(":last")}else{o=e.inArray(q.get(0),r);if(o>0){o=o-1;return r.eq(o)}else{if(p){return r.filter(":last")}}}return q}),click:function(o){m.push(o);j(o);i.add(function(){var p=e(o);if(p.length>0){p.click()}});return this},goTo:function(o){i.add(function(){window.location.href=o});return this},followLink:function(o){m.push(o);j(o);i.add(function(){var p=e(o)[0];if(p&&{a:true,link:true}[p.nodeName.toLowerCase()]){window.location.href=p.href}});return this},execute:function(p){var o=this;i.add(function(){p.apply(o,arguments)});return this},evaluate:function(o){o.call(this)},moveToAndClick:function(o){m.push(o);j(o);i.add(function(){var p=e(o);if(p.length>0){p.click();p.moveTo()}});return this},moveToAndFocus:function(o){m.push(o);j(o);i.add(function(q){var p=AJS.$(o);if(p.length>0){p.focus();p.moveTo&&p.moveTo();if(p.is(":input")){q.preventDefault()}}});return this},or:function(o){l(o);return this},unbind:function(){e(document).unbind("keydown keypress",g).unbind("keydown keypress keyup",h);for(var p=0,o=m.length;p<o;p++){k(m[p])}m=[]}}};a.whenIType.fromJSON=function(h,g){var f=[];if(h){e.each(h,function(k,l){var j=l.op,o=l.param,n;if(j==="execute"||j==="evaluate"){n=[new Function(o)]}else{if(/^\[[^\]\[]*,[^\]\[]*\]$/.test(o)){try{n=JSON.parse(o)}catch(m){c("When using a parameter array, array must be in strict JSON format: "+o)}if(!e.isArray(n)){c("Badly formatted shortcut parameter. String or JSON Array of parameters required: "+o)}}else{n=[o]}}e.each(l.keys,function(){var p=this;if(g&&d){p=e.map(this,function(q){return q.replace(/ctrl/i,"meta")})}var i=AJS.whenIType(p);i[j].apply(i,n);f.push(i)})})}return f};function c(f){if(console&&console.error){console.error(f)}else{AJS.log(f)}}e(document).bind("iframeAppended",function(g,f){e(f).load(function(){var h=e(f).contents();h.bind("keyup keydown keypress",function(i){if(e.browser.safari&&i.type==="keypress"){return}if(!e(i.target).is(":input")){e.event.trigger(i,arguments,document,true)}})})})})(AJS,AJS.$);
